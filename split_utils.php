<?php

function get_random_lines($lines, $count){
	if(empty($lines)){
		return;
	}

	if(count($lines) <= $count){
		return $lines;
	}

	$result = array();
	while(count($result) < '5'){
		$result[] = $lines[array_rand($lines)];
		$result = array_unique($result);
	}

	return $result;
}

function get_lines_without_clean($para){
	$lines = array_filter(array_map('trim', preg_split('/(?<=[.?!:;])\s+(?=[a-z])/i', $para)));

	return $lines;
}

function get_lines($para, $delimiter=''){
	$para = clean($para);
	if(!empty($delimiter)){
		$lines = explode('||', $para);
		return array_filter(array_map('trim', $lines));
	}

	$lines = array_filter(array_map('trim', preg_split('/(?<=[.?!:;])\s+(?=[a-z])/i', $para)));

	return $lines;
}

function get_para($lines){
	$lines = array_map('trim', $lines);
	return trim(implode(' ', $lines));
}

function clean($string) {
	$string = str_replace('(', '', $string);
	$string = str_replace(')', '', $string);
	$string = str_replace('-', ' ', $string);
	$string = str_replace(':', ' ', $string);
	$string = str_replace('; ', '. ', $string);
	$string = str_replace(';', '', $string);
	$string = str_replace('~', '', $string);
	$string = str_replace('*', ' ', $string);
	$string = str_replace('!', '.', $string);
	$string = str_replace('/', ' or ', $string);
	$string = str_replace('e.g.', 'example', $string);
	$string = str_replace('i.e.', 'that\'s', $string);
	$string = str_replace('vs.', 'versus', $string);

	$string = preg_replace('/\.+/', '.', $string);
	$string = preg_replace('!\s+!', ' ', $string);

	$string = preg_replace('/not like/i', 'dislike', $string);

	return $string;
}
?>
